<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creeperè‹¦åŠ›æ€•iä¸ªäººåšå®¢</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="js/common.js"></script>
    <style>
        #andy-lau-thaw-progress {
            font-family: 'Microsoft YaHei', sans-serif;
            padding: 20px;
            border-radius: 10px;
            background: linear-gradient(135deg, #f5f7fa 0%, #e4edf5 100%);
            border: 1px solid #d1e3ff;
            max-width: 500px;
            margin: 20px auto;
            box-shadow: 0 4px 12px rgba(0, 40, 100, 0.1);
            display: none; /* é»˜è®¤éšè— */
        }
        #andy-lau-thaw-progress.show {
            display: block; /* æ˜¾ç¤ºæ—¶è®¾ä¸ºblock */
        }
        .progress-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
        }
        .progress-title {
            font-size: 1.3em;
            font-weight: bold;
            color: #1a56db;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .progress-title::before {
            content: 'â³';
            font-size: 1.2em;
        }
        #current-date {
            font-size: 0.9em;
            color: #6b7280;
            background: #f3f4f6;
            padding: 3px 10px;
            border-radius: 20px;
        }
        .progress-bar-container {
            height: 24px;
            background-color: #e5e7eb;
            border-radius: 12px;
            overflow: hidden;
            margin-bottom: 12px;
            position: relative;
        }
        #progress-bar-fill {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #4facfe 0%, #00c6ff 50%, #00f2fe 100%);
            border-radius: 12px;
            transition: width 0.8s ease-in-out;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 10px;
            font-weight: bold;
            color: white;
            text-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }
        .progress-stats {
            display: flex;
            justify-content: space-between;
            font-size: 0.95em;
            color: #4b5563;
            margin-bottom: 15px;
        }
        #thaw-status {
            text-align: center;
            font-size: 1em;
            min-height: 1.5em;
            padding: 8px;
            background-color: #fef3c7;
            border-radius: 8px;
            border-left: 4px solid #f59e0b;
            color: #92400e;
            margin-bottom: 15px;
        }
        .season-indicator {
            background-color: #f0f9ff;
            border-radius: 8px;
            padding: 8px 12px;
            margin-bottom: 15px;
            text-align: center;
            border: 1px solid #dbeafe;
            color: #1e40af;
            font-weight: bold;
        }
        .season-indicator::before {
            content: 'â„ï¸ ';
        }
        .event-highlight {
            background-color: #f0f9ff;
            border-radius: 8px;
            padding: 12px;
            border-left: 4px solid #3b82f6;
            margin-top: 15px;
        }
        .event-highlight h4 {
            margin-top: 0;
            color: #1e40af;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        .event-highlight h4::before {
            content: 'âœ¨';
        }
        .countdown {
            font-weight: bold;
            color: #dc2626;
        }
        .footnote {
            font-size: 0.8em;
            color: #9ca3af;
            text-align: center;
            margin-top: 15px;
            border-top: 1px dashed #d1d5db;
            padding-top: 10px;
        }
        /* éšè—çŠ¶æ€æç¤ºæ ·å¼ */
        #off-season-message {
            display: none;
            text-align: center;
            padding: 30px;
            font-family: 'Microsoft YaHei', sans-serif;
            color: #6b7280;
            font-size: 1.1em;
            max-width: 500px;
            margin: 20px auto;
        }
        #off-season-message.show {
            display: block;
        }
        .off-season-icon {
            font-size: 3em;
            margin-bottom: 15px;
            display: block;
        }
        .off-season-note {
            font-size: 0.85em;
            color: #9ca3af;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <header>
    <button class="menu">&#9776;</button>
    <h1>Creeperè‹¦åŠ›æ€•i</h1>
    <nav>
    <ul>
        <li><a href="index.html">é¦–é¡µ</a></li>
        <li><a href="156soft/index.html">156è½¯ä»¶å®˜ç½‘</a></li> 
        <li><a href="download.html">ä¸‹è½½</a></li>
        <li><a href="blog.html">åšå®¢</a></li>
        <li><a href="link.html">é“¾æ¥</a></li>                
    </ul>
    </nav>  
    </header>
    <section class = "Ad">
        <a href="https://www.ifdian.net/order/create?plan_id=260e0bf0bd5c11f0aca452540025c377&product_type=0&remark=&affiliate_code=">"å¹¿å‘Šä½æ‹›ç§Ÿï¼Œç‚¹å‡»æŠ•æ”¾å¹¿å‘Šä½ï¼"</a>
    </section>
    <section class = "ldhjd">
        <div id="andy-lau-thaw-progress">
        <div class="progress-header">
            <div class="progress-title">åˆ˜å¾·åå¹´åº¦è§£å†»è¿›åº¦</div>
            <div id="current-date">åŠ è½½æ—¥æœŸä¸­...</div>
        </div>
        
        <div class="progress-bar-container">
            <div id="progress-bar-fill">0%</div>
        </div>
        
        <div class="progress-stats">
            <div>è§£å†»è¿›åº¦: <span id="progress-percentage">0</span>%</div>
            <div>æ˜¥èŠ‚å€’è®¡æ—¶: <span id="spring-festival-countdown">--</span> å¤©</div>
        </div>
        
        <div id="thaw-status">æ­£åœ¨è®¡ç®—åä»”çš„è§£å†»çŠ¶æ€...</div>
        
        <div class="event-highlight" id="special-event" style="display:none;">
            <!-- ç‰¹æ®Šäº‹ä»¶æç¤ºä¼šåŠ¨æ€æ’å…¥åˆ°è¿™é‡Œ -->
        </div>
        
        <div class="footnote">
            * â€œè§£å†»â€æ¢—æºè‡ªåˆ˜å¾·åæ­Œæ›²ã€Šæ­å–œå‘è´¢ã€‹æ¯å¹´æ˜¥èŠ‚å‰åœ¨å„å¤§åœºæ‰€å¾ªç¯æ’­æ”¾çš„ç°è±¡[citation:3]ã€‚è¿›åº¦æ¡ä¸ºè¶£å‘³è®¡ç®—ï¼Œå¹¶éå®˜æ–¹å†…å®¹ã€‚
        </div>
    </div>
    </section>
    <main>
    
    <section class = "about_me">
    <img src="images/LOGO.png" alt="Creeperè‹¦åŠ›æ€•iä¸ªäººåšå®¢LOGO"></img>
    <p>bilibiliæ¸¸æˆåŒºã€ç§‘æŠ€åŒºè‡ªåª’ä½“ï¼Œçˆ±ç©æ¸¸æˆã€ç¼–ç¨‹</p>
    <div class="social media">
            <a href="https://github.com/156sr-dogs">GitHub</a> | 
            <a href="https://space.bilibili.com/3546378363996834?spm_id_from=333.999.0.0">bilibili</a> | 
            <a href="https://www.youtube.com/@Creeper%E8%8B%A6%E5%8A%9B%E6%80%95i">YouTube</a> |
            <a href="https://156sr-dogs.github.io/C_blog/QQ.html">QQ</a> |
            <a href="http://ifdian.net/a/bcdogs156">çˆ±å‘ç”µ</a>
    </div>
    </section>
    <section class="form">
        <h1>ç²¾é€‰æ–‡ç« </h1>
        <div class="highlight-box">
            <h3><a href="/articles/1/article1.html">1.æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼</a></h3>
        </div>
    </section>
    </main>
    <footer>
        <p>Copyright Â© 2025-2037 Creeperè‹¦åŠ›æ€•içš„ä¸ªäººåšå®¢. ä¿ç•™æ‰€æœ‰æƒåˆ©ã€‚</p>
    </footer>
    <script>
        // ä¸»è¦é…ç½®ï¼šè¯·æ ¹æ®ç›®æ ‡å¹´ä»½ä¿®æ”¹æ­¤å¤„æ˜¥èŠ‚æ—¥æœŸ
        const config = {
            // è‡ªåŠ¨è®¡ç®—å½“å‰å¹´ä»½æˆ–ä¸‹ä¸€å¹´çš„æ˜¥èŠ‚æ—¥æœŸ
            get targetSpringFestival() {
                const currentYear = new Date().getFullYear();
                // æ˜¥èŠ‚æ—¥æœŸæ˜ å°„è¡¨ï¼ˆ2025-2030å¹´ï¼‰
                const springFestivalDates = {
                    2025: '2025-01-29', // 2025å¹´æ˜¥èŠ‚
                    2026: '2026-02-17', // 2026å¹´æ˜¥èŠ‚
                    2027: '2027-02-06', // 2027å¹´æ˜¥èŠ‚
                    2028: '2028-01-26', // 2028å¹´æ˜¥èŠ‚
                    2029: '2029-02-13', // 2029å¹´æ˜¥èŠ‚
                    2030: '2030-02-03'  // 2030å¹´æ˜¥èŠ‚
                };
                
                const now = new Date();
                let targetYear = currentYear;
                
                // å¦‚æœå½“å‰æ—¥æœŸå·²ç»è¿‡äº†ä»Šå¹´æ˜¥èŠ‚ï¼Œåˆ™ç›®æ ‡è®¾ä¸ºæ˜å¹´æ˜¥èŠ‚
                const currentYearFestival = new Date(springFestivalDates[currentYear]);
                if (now > currentYearFestival && springFestivalDates[currentYear + 1]) {
                    targetYear = currentYear + 1;
                }
                
                // å¦‚æœç›®æ ‡å¹´ä»½åœ¨æ˜ å°„è¡¨ä¸­ï¼Œä½¿ç”¨è¯¥æ—¥æœŸï¼›å¦åˆ™ä½¿ç”¨2026å¹´ä½œä¸ºé»˜è®¤
                const festivalDate = springFestivalDates[targetYear] || '2026-02-17';
                return new Date(festivalDate);
            },
            
            // ç‰¹æ®Šäº‹ä»¶æç¤ºä¿æŒä¸å˜
            specialEvents: [
                {
                    date: '2025-11-09',
                    title: 'å†å²äº‹ä»¶ï¼šæå‰"è§£å†»"',
                    description: '2025å¹´11æœˆ9æ—¥ï¼Œåˆ˜å¾·ååœ¨å…¨è¿ä¼šå¼€å¹•å¼æ¼”å”±ã€Šä¸­å›½äººã€‹ï¼Œå› æ—©äºå¾€å¹´"è§£å†»æœŸ"ï¼Œè¢«ç½‘å‹æˆç§°ä¸º"æå‰è§£å†»"ã€‚'
                }
            ]
        };

        // è·å–DOMå…ƒç´ 
        const progressBarFill = document.getElementById('progress-bar-fill');
        const progressPercentage = document.getElementById('progress-percentage');
        const springFestivalCountdown = document.getElementById('spring-festival-countdown');
        const currentDateEl = document.getElementById('current-date');
        const thawStatus = document.getElementById('thaw-status');
        const specialEventContainer = document.getElementById('special-event');
        const progressContainer = document.getElementById('andy-lau-thaw-progress');
        const offSeasonMessage = document.getElementById('off-season-message');

        // åˆ¤æ–­å½“å‰æ˜¯å¦åœ¨12æœˆ-3æœˆæœŸé—´
        function isThawSeason() {
            const now = new Date();
            const month = now.getMonth() + 1; // getMonth()è¿”å›0-11ï¼Œæ‰€ä»¥+1å¾—åˆ°1-12
            
            // 12æœˆ(12)åˆ°3æœˆ(3)æœŸé—´æ˜¾ç¤º
            return month === 12 || month === 1 || month === 2 || month === 3;
        }

        // è·å–å»å¹´æ˜¥èŠ‚çš„æ—¥æœŸï¼ˆå‡è®¾ä¸ºå‰ä¸€å¹´çš„2æœˆ1æ—¥ï¼Œä½œä¸ºè¿›åº¦è®¡ç®—çš„è¿‘ä¼¼èµ·ç‚¹ï¼‰
        function getLastYearSpringFestival() {
            const currentYear = new Date().getFullYear();
            // è¿™æ˜¯ä¸€ä¸ªç®€åŒ–çš„èµ·ç‚¹ï¼Œé€šå¸¸"è§£å†»å‘¨æœŸ"è¢«è®¤ä¸ºä»ä¸Šä¸€å¹´æ˜¥èŠ‚åå¼€å§‹
            // å®é™…ç½‘ç»œä¸­ï¼Œè¿›åº¦æ¡å¾€å¾€ä»å¹´åˆ(0%)è¿è¡Œåˆ°å½“å¹´æ˜¥èŠ‚(100%)
            return new Date(`${currentYear-1}-02-01`);
        }

        // è®¡ç®—è§£å†»è¿›åº¦
        function calculateThawProgress() {
            const now = new Date();
            const startDate = getLastYearSpringFestival();
            const endDate = config.targetSpringFestival;
            
            // ç¡®ä¿å½“å‰æ—¥æœŸåœ¨æ—¶é—´èŒƒå›´å†…
            if (now < startDate) return 0;
            if (now > endDate) return 100;
            
            const totalDuration = endDate - startDate;
            const elapsedDuration = now - startDate;
            const progress = Math.min(100, Math.max(0, (elapsedDuration / totalDuration) * 100));
            
            return Math.round(progress * 10) / 10; // ä¿ç•™ä¸€ä½å°æ•°
        }

        // è®¡ç®—æ˜¥èŠ‚å€’è®¡æ—¶
        function calculateCountdown() {
            const now = new Date();
            const targetDate = config.targetSpringFestival;
            
            // å¦‚æœæ˜¥èŠ‚å·²è¿‡ï¼Œè®¡ç®—ä¸‹ä¸€ä¸ªæ˜¥èŠ‚
            let nextSpringFestival = new Date(targetDate);
            if (now > nextSpringFestival) {
                nextSpringFestival.setFullYear(nextSpringFestival.getFullYear() + 1);
            }
            
            const timeDiff = nextSpringFestival - now;
            const daysDiff = Math.ceil(timeDiff / (1000 * 60 * 60 * 24));
            
            return daysDiff;
        }

        // æ ¹æ®è¿›åº¦ç”ŸæˆçŠ¶æ€æè¿°
        function getThawStatusDescription(progress) {
            if (progress === 0) return "ğŸ”„ åä»”å°šåœ¨å†°å°ä¸­ï¼Œå…¨å¹´ä¼‘å‡æ¨¡å¼å¼€å¯ã€‚";
            if (progress < 20) return "â„ï¸ è§£å†»åˆæœŸï¼Œåä»”å¶å°”åœ¨è®°å¿†ä¸­æµ®ç°ã€‚";
            if (progress < 40) return "ğŸ§Š è§£å†»è¿›è¡Œä¸­ï¼Œè¶…å¸‚å°šæœªæ¥åˆ°ã€Šæ­å–œå‘è´¢ã€‹æ’­æ”¾é€šçŸ¥ã€‚";
            if (progress < 60) return "ğŸŒ¬ï¸ è§£å†»è¿‘åŠï¼Œæœ‰ç½‘å‹å¼€å§‹æ„Ÿå¹æ—¶é—´é£å¿«ã€‚";
            if (progress < 80) return "ğŸ’§ è§£å†»åŠ é€Ÿï¼Œéƒ¨åˆ†åœ°åŒºå¯èƒ½å¼€å§‹å‡ºç°å¹´å‘³é¢„çƒ­ã€‚";
            if (progress < 95) return "ğŸ”¥ è§£å†»å†²åˆºï¼åä»”å³å°†å»è¶…å¸‚ä¸Šç­ï¼Œå•†åœºå¼€å§‹ç­¹å¤‡æ˜¥èŠ‚æ­Œå•ã€‚";
            if (progress < 100) return "ğŸš¨ é«˜åº¦è§£å†»ï¼ã€Šæ­å–œå‘è´¢ã€‹å·²é™†ç»­ç™»é™†å„å¤§å–åœºï¼Œå¹´å‘³åè¶³ã€‚";
            if (progress >= 100) return "ğŸ‰ å®Œå…¨è§£å†»ï¼åä»”æ­£å¼ä¸Šå²—ï¼Œã€Šæ­å–œå‘è´¢ã€‹å“å½»å¤§è¡—å°å··ï¼Œæ˜¥èŠ‚åˆ°ï¼";
            return "ç›‘æµ‹è§£å†»çŠ¶æ€ä¸­...";
        }

        // æ£€æŸ¥å¹¶æ˜¾ç¤ºç‰¹æ®Šäº‹ä»¶
        function checkSpecialEvents() {
            const todayStr = new Date().toISOString().split('T')[0];
            const event = config.specialEvents.find(e => e.date === todayStr);
            
            if (event) {
                specialEventContainer.innerHTML = `
                    <h4>${event.title}</h4>
                    <p>${event.description}</p>
                `;
                specialEventContainer.style.display = 'block';
            } else {
                specialEventContainer.style.display = 'none';
            }
        }

        // æ˜¾ç¤ºæˆ–éšè—è¿›åº¦æ¡
        function toggleProgressVisibility() {
            const isSeason = isThawSeason();
            
            if (isSeason) {
                progressContainer.classList.add('show');
                // ç§»é™¤å¯¹offSeasonMessageçš„æ“ä½œ
                return true; // è¿”å›trueè¡¨ç¤ºå½“å‰æ˜¯è§£å†»å­£
            } else {
                progressContainer.classList.remove('show');
                // ç§»é™¤å¯¹offSeasonMessageçš„æ“ä½œ
                return false; // è¿”å›falseè¡¨ç¤ºå½“å‰ä¸æ˜¯è§£å†»å­£
            }
        }

        // æ›´æ–°æ‰€æœ‰æ˜¾ç¤º
        function updateAllDisplays() {
            // é¦–å…ˆæ£€æŸ¥æ˜¯å¦åœ¨è§£å†»å­£
            const isSeason = toggleProgressVisibility();
            
            // å¦‚æœä¸æ˜¯è§£å†»å­£ï¼Œä¸è®¡ç®—å’Œæ›´æ–°è¿›åº¦
            if (!isSeason) {
                return;
            }
            
            const progress = calculateThawProgress();
            const countdown = calculateCountdown();
            const now = new Date();
            
            // æ›´æ–°è¿›åº¦æ¡
            progressBarFill.style.width = `${progress}%`;
            progressBarFill.textContent = `${progress}%`;
            progressPercentage.textContent = progress;
            
            // æ›´æ–°å€’è®¡æ—¶
            springFestivalCountdown.textContent = countdown;
            
            // æ›´æ–°æ—¥æœŸæ˜¾ç¤º
            currentDateEl.textContent = now.toLocaleDateString('zh-CN', {
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                weekday: 'long'
            });
            
            // æ›´æ–°çŠ¶æ€æè¿°
            thawStatus.textContent = getThawStatusDescription(progress);
            
            // æ£€æŸ¥ç‰¹æ®Šäº‹ä»¶
            checkSpecialEvents();
            
            // å¦‚æœå®Œå…¨è§£å†»ï¼Œæ·»åŠ åº†ç¥æ ·å¼
            if (progress >= 100) {
                progressBarFill.style.background = 'linear-gradient(90deg, #f97316 0%, #eab308 50%, #84cc16 100%)';
                thawStatus.style.backgroundColor = '#dcfce7';
                thawStatus.style.borderLeftColor = '#16a34a';
                thawStatus.style.color = '#166534';
            }
        }

        // é¡µé¢åŠ è½½ååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            updateAllDisplays();
            
            // æ¯å°æ—¶æ›´æ–°ä¸€æ¬¡æ˜¾ç¤ºçŠ¶æ€
            setInterval(updateAllDisplays, 3600000);
            
            // é¢å¤–ï¼šæ¯å¤©0ç‚¹æ£€æŸ¥æ˜¯å¦éœ€è¦åˆ‡æ¢æ˜¾ç¤ºçŠ¶æ€
            // è¿™ç¡®ä¿ç”¨æˆ·åœ¨é¡µé¢é•¿æ—¶é—´æ‰“å¼€æ—¶ï¼Œè·¨æœˆæ—¶èƒ½æ­£ç¡®åˆ‡æ¢
            const now = new Date();
            const millisecondsUntilMidnight = new Date(now.getFullYear(), now.getMonth(), now.getDate() + 1, 0, 0, 0) - now;
            
            // è®¾ç½®å®šæ—¶å™¨åœ¨æ¯å¤©0ç‚¹è§¦å‘ä¸€æ¬¡å®Œæ•´æ›´æ–°
            setTimeout(function() {
                updateAllDisplays();
                // ç„¶åæ¯å¤©æ‰§è¡Œä¸€æ¬¡
                setInterval(updateAllDisplays, 86400000);
            }, millisecondsUntilMidnight);
        });
    </script>
</body>
</html>
